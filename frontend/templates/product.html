{% extends "base.html" %} {% block title %}{{ product.name }}{% endblock %} {%
block content %}
<div class="max-w-4xl mx-auto py-10 px-4">
  <a href="/" class="text-blue-600 hover:underline">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>

  <div
    class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-6 bg-white shadow rounded p-6"
  >
    {% if product.photo_url %}
    <div
      class="w-full h-80 bg-gray-50 flex items-center justify-center overflow-hidden rounded"
    >
      <img
        src="{{ product.photo_url }}"
        alt="{{ product.name }}"
        class="object-contain h-full w-full"
      />
    </div>
    {% endif %}

    <div>
      <h1 class="text-3xl font-bold mb-2">{{ product.name }}</h1>
      <p class="text-gray-600 mb-4">
        {{ product.description or "–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è" }}
      </p>

      <p class="text-lg font-semibold text-gray-800 mb-2">
        üí∞ –¶–µ–Ω–∞: <span class="text-green-600">{{ product.final_price }} ‚Ç¨</span>
      </p>

      <p class="mb-2">
        üè∑Ô∏è –ö–∞—Ç–µ–≥–æ—Ä–∏—è:
        <a
          href="/category/{{ product.category | lower | urlencode }}"
          class="text-blue-600 hover:underline"
        >
          {{ product.category }}
        </a>
      </p>

      <p class="mb-2">
        ‚úÖ –í –Ω–∞–ª–∏—á–∏–∏: {% if product.available %}
        <span class="text-green-600 font-medium">–î–∞</span>
        {% else %}
        <span class="text-red-600 font-medium">–ù–µ—Ç</span>
        {% endif %}
      </p>

      <p class="mb-4">
        üì¶ –û—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–∫–ª–∞–¥–µ:
        <span class="font-medium">
          {{ product.quantity if product.quantity is not none else "–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö"
          }}
        </span>
      </p>

      <!-- –ü—Ä–æ—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É -->
      <form method="post" action="/cart/add" class="space-y-3">
        <input type="hidden" name="product_name" value="{{ product.name }}" />
        <label class="block">
          –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:
          <input
            type="number"
            name="quantity"
            min="1"
            value="1"
            class="mt-1 block w-24 rounded border border-gray-300 p-2"
          />
        </label>
        <button
          type="submit"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
        >
          –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É üõí
        </button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
